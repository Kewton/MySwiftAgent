---
marp: true
theme: {{ theme }}
paginate: true
---

<style>
section.task-list {
  font-size: 0.9em;
}
section.task-list h2 {
  font-size: 1.2em;
  margin-bottom: 0.3em;
}
section.task-list table {
  font-size: 0.95em;
  line-height: 1.3;
}
section.task-list th {
  background-color: #f0f0f0;
}
</style>

<!-- Slide 1: ã‚¿ã‚¤ãƒˆãƒ« -->
# Job/Task ç”Ÿæˆãƒ¬ãƒãƒ¼ãƒˆ

## ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æ±‚
{{ user_requirement }}

---

**å®Ÿè¡Œæ—¥æ™‚**: {{ timestamp }}
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: `{{ status }}`

---

<!-- Slide 2: æ¦‚è¦ -->
# ğŸ“Š å®Ÿè¡Œçµæœã‚µãƒãƒªãƒ¼

| é …ç›® | çµæœ |
|------|------|
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | **{{ status }}** |
| å®Ÿç¾ä¸å¯èƒ½ã‚¿ã‚¹ã‚¯ | {{ infeasible_tasks_count }}ä»¶ |
| è¦æ±‚ç·©å’Œææ¡ˆ | {{ suggestions_count }}ä»¶ |
{% if execution_time %}
| å®Ÿè¡Œæ™‚é–“ | {{ execution_time }}ç§’ |
{% endif %}

{% if status == "failed" %}
**âš ï¸ å®Ÿç¾ä¸å¯èƒ½ãªã‚¿ã‚¹ã‚¯ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸ**

è¦æ±‚ç·©å’Œææ¡ˆã‚’å‚è€ƒã«ã€è¦æ±‚ã‚’è¦‹ç›´ã—ã¦ãã ã•ã„ã€‚
{% endif %}

---

{% if tasks_count > 0 %}
{% for task in tasks -%}
{% if loop.index0 % 5 == 0 %}

<!-- _class: task-list -->
<!-- Slide Task-{{ (loop.index0 // 5) + 1 }}: ã‚¿ã‚¹ã‚¯ä¸€è¦§ -->
# ğŸ“‹ ç”Ÿæˆã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ä¸€è¦§ ({{ (loop.index0 // 5) + 1 }}/{{ ((tasks_count - 1) // 5) + 1 }})

{% if status == 'failed' %}
**âš ï¸ æ³¨æ„**: å®Ÿç¾ä¸å¯èƒ½ãªã‚¿ã‚¹ã‚¯ãŒå«ã¾ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
{% endif %}

| # | ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯å | èª¬æ˜ | å„ªå…ˆåº¦ | ä¾å­˜ |
|---|---------|---------|------|-------|------|
{% endif -%}
| {{ loop.index }} | `{{ task.task_id }}` | {{ task.name or task.task_name }} | {{ task.description[:80] }}{% if task.description|length > 80 %}...{% endif %} | {{ task.priority }} | {% if task.dependencies and task.dependencies|length > 0 %}{{ task.dependencies|join(', ') }}{% else %}-{% endif %} |
{% if loop.index % 5 == 0 or loop.last %}

{% if status == 'failed' %}
**ğŸ’¡ å¯¾ç­–ææ¡ˆãŒå¿…è¦ãªã‚¿ã‚¹ã‚¯:**
{% for t in tasks[(loop.index0 // 5) * 5:loop.index] %}
{% set task_name = t.name or t.task_name %}
{% if task_name in task_suggestions_map and task_suggestions_map[task_name]|length > 0 %}
- **{{ task_name }}**: {{ task_suggestions_map[task_name]|length }}ä»¶ã®ææ¡ˆ ({% for suggestion in task_suggestions_map[task_name][:2] %}{{ suggestion.relaxation_type_ja }}{% if not loop.last %}, {% endif %}{% endfor %})
{% endif %}
{% endfor %}
{% endif %}

---
{% endif -%}
{% endfor %}
{% endif %}

{% if suggestions_count > 0 %}
{% for suggestion in suggestions %}
<!-- Slide {{ loop.index + 2 }}: ææ¡ˆ{{ loop.index }} -->
# ğŸ’¡ ææ¡ˆ {{ loop.index }}: {{ suggestion.relaxation_type_ja }}

## å…ƒã®è¦æ±‚
{{ suggestion.original_requirement }}

## ç·©å’Œå¾Œã®è¦æ±‚
{{ suggestion.relaxed_requirement }}

---

# ğŸ’¡ ææ¡ˆ {{ loop.index }} (ç¶šã)

## å®Ÿç¾å¯èƒ½æ€§
**{{ suggestion.feasibility_after_relaxation }}** (æ¨å¥¨ãƒ¬ãƒ™ãƒ«: **{{ suggestion.recommendation_level }}**)

## çŠ ç‰²ã«ã™ã‚‹ã‚‚ã®
{{ suggestion.what_is_sacrificed }}

## ç¶­æŒã•ã‚Œã‚‹ã‚‚ã®
{{ suggestion.what_is_preserved }}

---

# ğŸ’¡ ææ¡ˆ {{ loop.index }} (å®Ÿè£…ã‚¬ã‚¤ãƒ‰)

## å®Ÿè£…æ™‚ã®æ³¨æ„ç‚¹
{{ suggestion.implementation_note }}

## ä½¿ç”¨ã™ã‚‹æ©Ÿèƒ½
{% for capability in suggestion.available_capabilities_used %}
- {{ capability }}
{% endfor %}

{% if include_implementation_steps and suggestion.implementation_steps %}
## å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—
{% for step in suggestion.implementation_steps %}
{{ step }}
{% endfor %}
{% endif %}

---

{% endfor %}
{% endif %}

<!-- æœ€çµ‚ã‚¹ãƒ©ã‚¤ãƒ‰: ã¾ã¨ã‚ -->
# ğŸ“ ã¾ã¨ã‚

{% if suggestions_count > 0 %}
## Phase 11 ã®æˆæœ
- **{{ suggestions_count }}ä»¶** ã®è©³ç´°ãªè¦æ±‚ç·©å’Œææ¡ˆã‚’ç”Ÿæˆ
- LLM (Claude 3 Haiku) ã«ã‚ˆã‚‹é«˜å“è³ªãªææ¡ˆ
- å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—ã¾ã§å«ã‚€å®Ÿç”¨çš„ãªã‚¬ã‚¤ãƒ€ãƒ³ã‚¹

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
1. ææ¡ˆã‚’æ¤œè¨ã—ã€æœ€é©ãªç·©å’Œæ¡ˆã‚’é¸æŠ
2. ç·©å’Œã—ãŸè¦æ±‚ã§å†åº¦ Job Generator ã‚’å®Ÿè¡Œ
3. ã‚¸ãƒ§ãƒ–ãƒã‚¹ã‚¿ãƒ¼ã¸ã®ç™»éŒ²ã‚’å®Œäº†
{% else %}
## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
- ã‚¸ãƒ§ãƒ–ãƒã‚¹ã‚¿ãƒ¼ã¸ã®ç™»éŒ²ãŒå®Œäº†ã—ã¦ã„ã¾ã™
- Job ID: {{ job_id }}
{% endif %}

---

<!-- ç”Ÿæˆæƒ…å ± -->
**ğŸ¤– Generated with Claude Code**
**Report Type**: Job/Task Auto-Generation Marp Report
**Generated at**: {{ timestamp }}
